<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact JLXTrades</title>
  <meta name="description" content="Contact JLXTrades for questions or to unlock member perks after purchase." />
  <link rel="stylesheet" href="styles.css" />

  <!-- Page-specific styles (keeps your global CSS untouched) --><link rel="stylesheet" href="cubefx.css" />
  <style>
    /* Two-column layout for the two forms */
    .contact-two-col{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      align-items: start;
      margin-top: 18px;
    }
    @media (max-width: 980px){
      .contact-two-col{ grid-template-columns: 1fr; }
    }

    /* Form UI */
    .contact-form{ margin-top:10px; }
    .form-grid{
      display:grid; gap:12px;
      grid-template-columns: repeat(2, minmax(0,1fr));
    }
    @media (max-width: 760px){
      .form-grid{ grid-template-columns: 1fr; }
    }
    .form-span-2{ grid-column: 1 / -1; }

    .form-field{ display:grid; gap:6px; }
    .form-field label{ font-weight:900; font-size:12px; color: var(--muted); }
    .form-field input[type="text"],
    .form-field input[type="email"],
    .form-field input[type="url"],
    .form-field input[type="date"],
    .form-field select,
    .form-field textarea{
      border:1px solid var(--border);
      background: var(--bg-elev);
      color: var(--text);
      padding:10px 12px; border-radius:12px; font-weight:700;
    }
    .form-field textarea{ resize: vertical; min-height: 120px; }

    .form-actions{ display:flex; align-items:center; gap:12px; margin-top:8px; }
    .form-actions .help-text{ color: var(--muted); font-size:12px; }

    /* Upload UI */
    .file-drop{
      display:block; border:1px dashed var(--border); border-radius:12px; background: var(--bg-elev);
      padding:12px; cursor:pointer; transition: border-color .2s ease, box-shadow .2s ease;
    }
    .file-drop:hover{
      border-color: color-mix(in oklab, var(--accent), black 25%);
      box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent), transparent 82%);
    }
    .file-drop input[type="file"]{ display:none; }
    .file-drop-ui{ display:flex; gap:12px; align-items:center; }
    .file-drop-icon{ font-size:20px; }

    .file-preview{ margin-top:8px; display:flex; flex-wrap:wrap; gap:8px; }
    .file-chip{
      padding:6px 10px; border-radius:999px; font-weight:800; background: var(--bg-elev);
      border:1px solid var(--border);
    }
    .error{ color:#e11d48; font-weight:800; }

    /* Checkbox line */
    .checkline{ display:flex; align-items:center; gap:10px; font-weight:700; color: var(--text); }
    .checkline input{ accent-color: var(--accent); }

    /* Success note */
    .form-note{ margin-top:8px; color: color-mix(in oklab, var(--accent), black 20%); font-weight:900; }
  </style>
</head>

<body>
  <!-- Header (same look as your site) --><div id="cube-bg" aria-hidden="true"></div>
  <header>
    <div class="container nav">
      <a class="brand" href="index.html">
        <span class="brand-logo" aria-hidden="true">
          <svg viewBox="0 0 24 24" role="img" aria-label="Logo"><path d="M12 2l3.5 6.8 7.5 1.1-5.5 5.2 1.3 7.4L12 18.6 5.2 22.5 6.5 15 1 9.9l7.5-1.1L12 2z"/></svg>
        </span>
        <span>JLXTrades</span>
      </a>
      <nav class="nav-links">
        <a href="index.html#features">Features</a>
        <a href="index.html#deals">Deals</a>
        <a href="compare.html">Compare</a>
        <a href="contact.html" aria-current="page">Contact</a>
        <a href="index.html#faq">FAQ</a>

      </nav>
      <div class="nav-actions" style="display:flex; gap:10px; align-items:center;">
        <button id="themeToggle" class="toggle" aria-label="Toggle theme" title="Toggle light/dark">
          <svg id="sunIcon" viewBox="0 0 24 24"><path d="M6.76 4.84l-1.8-1.79L3.17 4.84l1.79 1.79 1.8-1.79zM1 13h3v-2H1v2zm10 10h2v-3h-2v3zm9.83-19.16l-1.79-1.79-1.8 1.79 1.8 1.79 1.79-1.79zM20 11v2h3v-2h-3zM6.76 19.16l-1.8 1.79 1.41 1.41 1.79-1.79-1.4-1.41zM17.24 4.84l1.8-1.79-1.41-1.41-1.79 1.79 1.4 1.41zM12 6a6 6 0 100 12 6 6 0 000-12z"/></svg>
          <span id="toggleLabel">Light</span>
        </button>
        <a class="cta-btn" href="index.html#deals">Use Code: JLXTRADES</a>
<a href="stones.html" class="diamond-btn" title="Stones" aria-label="Stones">
  <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
    <path d="M12 2l4 4h5l-9 16L3 6h5l4-4zM7 6l5 12L17 6h-4l-1-1-1 1H7z" />
  </svg>
</a>

      </div>
    </div>
  </header>

  <!-- Main -->
  <main>
    <section class="container" style="padding-top:28px;">
      <h1 class="section-title">Contact Us</h1>
      <p class="section-subtitle">Questions, feedback, or want to unlock your perks after purchase? Use the forms below.</p>

      <!-- Two-column cards -->
      <div class="contact-two-col">

        <!-- Ask a Question -->
        <!-- Ask a Question (Card) -->
        <div class="card" data-move>
          <h2 class="section-title" style="font-size:1.1rem;">Ask a Question</h2>

          <form id="form-questions" class="contact-form" method="POST" action="https://formsubmit.co/mygemsplacement@gmail.com">
            <!-- FormSubmit options -->
            <input type="hidden" name="_subject" value="New Question from JLXTrades">
            <input type="hidden" name="_template" value="table">
            <input type="hidden" name="_captcha" value="false">
            <!-- After-submit redirect (optional) -->
            <input type="hidden" name="_next" value="https://your-site.com/contact.html#thanks">
            <!-- Honeypot (spam trap) -->
            <input type="text" name="_honey" style="display:none">

            <div class="form-grid">
              <div class="form-field">
                <label for="qName">Full Name</label>
                <input id="qName" name="name" type="text" placeholder="Jane Doe" required>
              </div>

              <div class="form-field">
                <label for="qEmail">Email</label>
                <input id="qEmail" name="email" type="email" placeholder="you@example.com" required>
              </div>

              <div class="form-field form-span-2">
                <label for="qSubject">Subject</label>
                <input id="qSubject" name="subject" type="text" placeholder="How do Iâ€¦?" required>
              </div>

              <div class="form-field form-span-2">
                <label for="qMessage">Message</label>
                <textarea id="qMessage" name="message" rows="5" placeholder="Write your questionâ€¦" required></textarea>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-primary">Send Message</button>
              <p class="help-text">Weâ€™ll get back within 24â€“48 hrs (business days).</p>
            </div>

            <!-- Shown if you redirect to #thanks and reveal via tiny JS -->
            <p class="form-note" id="qNote" hidden>âœ… Thanks! Your message has been sent.</p>
          </form>
        </div>


        <!-- Unlock Perks After Purchase -->
        <div class="card" data-move>
          <h2 class="section-title" style="font-size:1.1rem;">Unlock Perks After Purchase</h2>
          <form id="form-verify" class="contact-form" method="POST" action="#" enctype="multipart/form-data">
            <!-- Replace action with your endpoint later -->
            <div class="form-grid">
              <div class="form-field">
                <label for="vName">Full Name</label>
                <input id="vName" name="name" type="text" placeholder="Jane Doe" required>
              </div>
              <div class="form-field">
                <label for="vEmail">Email (used for purchase)</label>
                <input id="vEmail" name="email" type="email" placeholder="you@example.com" required>
              </div>
              <div class="form-field">
                <label for="vFirm">Prop Firm</label>
                <select id="vFirm" name="firm" required>
                  <option value="" disabled selected>Select firm</option>
                  <option>My Funded Futures</option>
                  <option>Top One Futures</option>
                  <option>Topstep</option>
                  <option>Apex</option>
                  <option>Take Profit Trader</option>
                  <option>Bulenox</option>
                  <option>Others</option>
                </select>
              </div>
              <div class="form-field">
                <label for="vAccount">Account Size</label>
                <input id="vAccount" name="accountSize" type="text" placeholder="e.g., 50K / 100K" required>
              </div>
              <div class="form-field">
                <label for="vOrder">Order/Account ID (UID)</label>
                <input id="vOrder" name="orderId" type="text" placeholder="UID / Order # from the prop firm" required>
              </div>
              <div class="form-field">
                <label for="vDate">Purchase Date</label>
                <input id="vDate" name="purchaseDate" type="date" required>
              </div>
              <div class="form-field form-span-2">
                <label for="vLink">Proof Link (optional)</label>
                <input id="vLink" name="proofUrl" type="url" placeholder="https://dashboard.your-firm.com/â€¦">
              </div>
              <!-- Receipt upload -->
              <div class="form-field form-span-2">
                <label>Upload Receipt (PDF or image)</label>
                <label class="file-drop" for="vReceipt">
                  <input id="vReceipt" name="receipt" type="file" accept=".pdf,image/*" required>
                  <div class="file-drop-ui">
                    <div class="file-drop-icon">ðŸ“Ž</div>
                    <div>
                      <strong>Click to upload</strong> or drag &amp; drop
                      <div class="muted">Max 10MB â€¢ PDF / PNG / JPG</div>
                    </div>
                  </div>
                </label>
                <div id="vReceiptPreview" class="file-preview" aria-live="polite"></div>
              </div>
              <div class="form-field form-span-2">
                <label class="checkline">
                  <input type="checkbox" id="vConfirm" name="confirm" required>
                  <span>I confirm I used the code <strong>JLXTRADES</strong> at checkout.</span>
                </label>
              </div>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn-primary">Submit &amp; Unlock Perks</button>
              <p class="help-text">Verification usually takes 12â€“24 hrs (business days).</p>
            </div>
            <p class="form-note" id="vNote" hidden>âœ… Thanks! Weâ€™ve received your submission.</p>
          </form>
        </div>

      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container" style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; align-items:center;">
      <div style="display:flex; align-items:center; gap:10px;">
        <div class="brand-logo" aria-hidden="true" style="width:28px;height:28px;border-radius:10px;">
          <svg viewBox="0 0 24 24"><path fill="#fff" d="M12 2l3.5 6.8 7.5 1.1-5.5 5.2 1.3 7.4L12 18.6 5.2 22.5 6.5 15 1 9.9l7.5-1.1L12 2z"/></svg>
        </div>
        <strong>JLXTrades</strong>
      </div>
      <div>Â© <span id="year"></span> JLXTrades. Perks for futures traders.</div>
    </div>
  </footer>

  <!-- Your global JS -->
  <script src="app.js"></script>

  <!-- Page-specific JS (safe for static demo). Remove when wiring a real backend. -->
  <script>
    const qs = (s, r=document) => r.querySelector(s);
    const on = (el, ev, fn) => el && el.addEventListener(ev, fn);

    // Success notes (demo)

    on(qs('#form-verify'), 'submit', e => {
      e.preventDefault();
      qs('#vNote').hidden = false;
      qs('#vReceiptPreview').innerHTML = '';
      e.target.reset();
    });

    // Receipt preview (name + size) with 10MB guard
    on(qs('#vReceipt'), 'change', e => {
      const out = qs('#vReceiptPreview');
      out.innerHTML = '';
      const f = e.target.files?.[0];
      if (!f) return;
      const mb = (f.size / (1024*1024)).toFixed(2);
      if (f.size > 10 * 1024 * 1024) {
        out.innerHTML = '<span class="error">File too large. Max 10MB.</span>';
        e.target.value = '';
        return;
      }
      const chip = document.createElement('div');
      chip.className = 'file-chip';
      chip.textContent = `${f.name} â€” ${mb} MB`;
      out.appendChild(chip);
    });

    // Year in footer
    qs('#year').textContent = new Date().getFullYear();

    (function () {
        const form = document.getElementById('form-questions');
        if (!form) return;
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          try {
            await fetch(form.action, {
              method: 'POST',
              body: new FormData(form),
              mode: 'no-cors' // opaque response, but posts fine
            });
          } catch (err) {
            // even if network error, still go to thanks to avoid dead end
            console.warn('Submit error (continuing to thanks):', err);
          }
          // Redirect using a relative URL that works everywhere
          window.location.href = 'thanks.html';
          // If contact.html lives in a subfolder, use:
          // window.location.href = new URL('thanks.html', location.href).href;
        });
      })();
  </script>
    <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
    <script src="cubefx.js"></script>
    <!-- Include only if this page doesn't already include supabase-js -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
      (function () {
        // ===== CONFIG â€” YOUR Supabase project =====
        const SUPABASE_URL = 'https://mbhgjdxiprlxbrzifnwz.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1iaGdqZHhpcHJseGJyemlmbnd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4NzA5NDEsImV4cCI6MjA3NDQ0Njk0MX0.dgqHTewgFTYG8XHgmc8gk4IhdrYrf4Z8PVWeVlOA6gg';

        // Require SDK
        if (!window.supabase) { console.error('Supabase SDK not loaded. Add the CDN <script> above this block.'); return; }

        // Reuse a single client per page load
        const sb = window.__sbClient || (window.__sbClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY));

        const badge = document.getElementById('navStoneBadge');
        if (!badge) return; // no diamond on this page

        async function refreshBadge() {
          try {
            const { data: { user }, error: uErr } = await sb.auth.getUser();
            if (uErr) { console.warn('[StonesBadge] getUser:', uErr.message); badge.hidden = true; return; }
            if (!user) { badge.hidden = true; return; }

            const { data, error } = await sb
              .from('users')
              .select('stones')
              .eq('email', user.email)
              .single();

            if (error && error.code !== 'PGRST116') {
              console.warn('[StonesBadge] select users:', error.message);
              badge.hidden = true; return;
            }

            const stones = data?.stones ?? 0;
            badge.textContent = stones;
            badge.hidden = stones <= 0;
          } catch (e) {
            console.warn('[StonesBadge] error:', e);
            badge.hidden = true;
          }
        }

        // Initial paint
        refreshBadge();

        // Update when auth state changes (login/logout)
        sb.auth.onAuthStateChange(() => refreshBadge());

        // Refresh when the tab regains focus
        window.addEventListener('focus', refreshBadge);

        // (Optional) periodic refresh every few minutes
        // setInterval(refreshBadge, 180000);
      })();
    </script>

</body>
</html>
